(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{584:function(t,o,n){},661:function(t,o,n){"use strict";n(584)},757:function(t,o,n){"use strict";n.r(o);var e,r=n(54),d=n(7),l=n(5),c=(n(435),n(41),n(442)),h=n.n(c),m=(n(427),n(428)),M=n.n(m),L=(n(429),n(430)),v=n.n(L),C=(n(408),n(409)),f=n.n(C),U=(n(410),n(411)),R=n.n(U),_=(n(42),n(9),{layout:"DashboardLayout",components:(e={BaseCheckbox:n(71).a},Object(l.a)(e,R.a.name,R.a),Object(l.a)(e,f.a.name,f.a),Object(l.a)(e,v.a.name,v.a),Object(l.a)(e,M.a.name,M.a),Object(l.a)(e,h.a.name,h.a),e),data:function(){return{token:this.$cookies.get("token"),oCenter:{lat:-1.249546,lng:-78.585376},oZoom:7,unidadInput:"",mListRutasMonitoreo:[],mListControlesMonitoreo:[],mListControlesMonitoreoAux:[],mListGeociudad:[],banderaCenter:!0,banderaUnidad:!1,mListUnidades:[],mListRutas:[],unidadInputRuta:"",checkedGeoCercaCiudad:!0,infoContent:"",infoWindowPos:{lat:0,lng:0},infoWinOpen:!1,currentMidx:null,fullscreenControl:!1,intervaloMonitoreoGeneral:null,intervaloMonitoreoRuta:null,radioMapaMonitoreo:"roadmap",infoOptions:{pixelOffset:{width:0,height:-35}},mListRutaSubida:[],mListRutaBajada:[],anchoPanelMonitoreoClickMinMax:"width: 17rem",checkedMonitoreoEstado:[],fechaActual:"",opcionesMonitoreo:[{value:"HOY",label:"Hoy"},{value:"FR",label:"Fuera de Línea"},{value:"GPS",label:"GPS"},{value:"CR",label:"Corte Ruta"}]}},methods:{minPanel:function(){console.log("MIN"),this.anchoPanelMonitoreoClickMinMax="width: 17rem"},maxPanel:function(){console.log("MAX"),this.anchoPanelMonitoreoClickMinMax="width: 85vw"},procedimientoMonitoreo:function(t){if(200==t.data.status_code){if("GPS"==this.checkedMonitoreoEstado)if(this.mListUnidades=[],0==this.mListUnidades.length)for(var i=0;i<t.data.data.length;i++)1==t.data.data[i].AlarAnteGPSDescMoni?(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!0,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i])):(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!1,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]));else this.updatemListaUnidades(t.data.data);else if("FR"==this.checkedMonitoreoEstado)if(this.mListUnidades=[],0==this.mListUnidades.length)for(i=0;i<t.data.data.length;i++)0==t.data.data[i].AlarAnteGPSDescMoni&&t.data.data[i].SINGPSDAY>0?(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!0,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i])):(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!1,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]));else this.updatemListaUnidades(t.data.data);else if("HOY"==this.checkedMonitoreoEstado)if(this.mListUnidades=[],0==this.mListUnidades.length)for(i=0;i<t.data.data.length;i++)t.data.data[i].UltiFechMoni.substring(0,10)==this.fechaActual.substring(0,10)?(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!0,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]),this.oCenter={lat:parseFloat(this.mListUnidades[i].UltiLatiMoni),lng:parseFloat(this.mListUnidades[i].UltiLongMoni)},this.oZoom=18,this.banderaCenter=!1):(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!1,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]));else this.updatemListaUnidades(t.data.data);else if(""!=this.unidadInput&&0==this.mListRutasMonitoreo.length)if(this.banderaUnidad=!0,this.mListUnidades=[],0==this.mListUnidades.length)for(i=0;i<t.data.data.length;i++)t.data.data[i].CodiVehiMoni==this.unidadInput?(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!0,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i])):(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!1,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]));else this.updatemListaUnidades(t.data.data);else if(""==this.unidadInput&&0==this.mListRutasMonitoreo.length)if(this.mListUnidades=[],0==this.mListUnidades.length)for(i=0;i<t.data.data.length;i++)this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!0,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]),0==i&&this.banderaCenter&&(this.oCenter={lat:parseFloat(this.mListUnidades[i].UltiLatiMoni),lng:parseFloat(this.mListUnidades[i].UltiLongMoni)},this.oZoom=12.5,this.banderaCenter=!1);else this.updatemListaUnidades(t.data.data);else if(""==this.unidadInput&&this.mListControlesMonitoreo.length>0&&1==this.banderaUnidad)this.banderaUnidad=!1;else if(""==this.unidadInput&&this.mListControlesMonitoreo.length>0)this.banderaUnidad=!1;else if(""!=this.unidadInput&&this.mListControlesMonitoreo.length>0&&0==this.banderaUnidad)if(this.banderaUnidad=!0,this.mListUnidades=[],0==this.mListUnidades.length)for(i=0;i<t.data.data.length;i++)t.data.data[i].CodiVehiMoni==this.unidadInput?(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!0,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]),this.oCenter={lat:parseFloat(this.mListUnidades[i].UltiLatiMoni),lng:parseFloat(this.mListUnidades[i].UltiLongMoni)},this.oZoom=18,this.banderaCenter=!1):(this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!1,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]));else this.updatemListaUnidades(t.data.data);else if(0==this.mListUnidades.length)for(i=0;i<t.data.data.length;i++)this.mListUnidades[i]=t.data.data[i],this.mListUnidades[i].isvisible=!0,this.mListUnidades[i].icono=this.getIcono(this.mListUnidades[i]),0==i&&this.banderaCenter&&(this.oCenter={lat:parseFloat(this.mListUnidades[i].UltiLatiMoni),lng:parseFloat(this.mListUnidades[i].UltiLongMoni)},this.oZoom=12.5,this.banderaCenter=!1);else this.updatemListaUnidades(t.data.data);this.girarMarcador()}},initRastreo:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function o(){var n,e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=null,"/monitoring",e={token:t.token},o.next=6,t.$axios.post("http://localhost:3001/monitoring",e);case 6:n=o.sent,console.log(n.data),t.procedimientoMonitoreo(n),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),console.log(o.t0);case 14:case"end":return o.stop()}}),o,null,[[0,11]])})))()},changeRutaSeleccionada:function(){this.selectedRutaMonitoreo(),this.readRutaByLetraRuta()},selectedRutaMonitoreo:function(){if(this.mListRutasMonitoreo.length>0){this.initControleMonitoreoRutas();for(var i=0;i<this.mListUnidades.length;i++){for(var t=!1,o=0;o<this.mListRutasMonitoreo.length;o++)this.mListUnidades[i].LetrRutaMoni==this.mListRutasMonitoreo[o]&&(t=!0);this.mListUnidades[i].isvisible=!!t}this.unidadInputRuta="";for(var n=0;n<this.mListUnidades.length;n++)1==this.mListUnidades[n].isvisible&&this.mListUnidades[n].CodiVehiMoni==this.unidadInput&&(this.unidadInputRuta=this.mListUnidades[n].CodiVehiMoni);this.unidadInput=""==this.unidadInputRuta?"":this.unidadInputRuta}else this.initControles(),this.initRastreo()},readRutaByLetraRuta:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function o(){var n,i,e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t.mListRutaBajada=[],t.mListRutaSubida=[],o.next=5,t.$axios.post("http://localhost:3001/readRutasMongoAllByLetraRuta",{token:t.token,ruta:t.mListRutasMonitoreo[0]});case 5:if(200==(n=o.sent).data.status_code){for(console.log("TRAZANDO RUTA.........."),i=0;i<n.data.datos.polilineasRutaSubida.length;i++)t.mListRutaSubida.push(n.data.datos.polilineasRutaSubida[i]);for(e=0;e<n.data.datos.polilineasRutaBajada.length;e++)t.mListRutaBajada.push(n.data.datos.polilineasRutaBajada[e])}o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),console.log(o.t0);case 12:case"end":return o.stop()}}),o,null,[[0,9]])})))()},initIntervalMonitoreoGeneral:function(){var t=this;this.intervaloMonitoreoGeneral=setInterval((function(){t.initRastreo()}),5e3)},initRutas:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function o(){var n,e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,t.$axios.post("http://localhost:3001/readRutasMonitoreo",{token:t.token});case 3:200==(n=o.sent).data.status_code&&(e=t.mListRutas).push.apply(e,Object(r.a)(n.data.datos)),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(o.t0);case 10:case"end":return o.stop()}}),o,null,[[0,7]])})))()},initControles:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function o(){var n,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("INICIANDO CONTROLES"),o.prev=1,o.next=4,t.$axios.post("http://localhost:3001/AllControles",{token:t.token});case 4:if(200==(n=o.sent).data.status_code)for(t.mListControlesMonitoreo=[],t.mListControlesMonitoreoAux=[],i=0;i<n.data.data.length;i++)t.mListControlesMonitoreo[i]=n.data.data[i];o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),console.log(o.t0);case 11:case"end":return o.stop()}}),o,null,[[1,8]])})))()},initControleMonitoreoRutas:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function o(){var n,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("INICIANDO CONTROLES POR RUTA"),o.prev=1,o.next=4,t.$axios.post("http://localhost:3001/AllControlesPorRuta",{token:t.token,rutas:t.mListRutasMonitoreo});case 4:if(200==(n=o.sent).data.status_code)for(t.mListControlesMonitoreo=[],t.mListControlesMonitoreoAux=[],i=0;i<n.data.data.length;i++)t.mListControlesMonitoreo[i]=n.data.data[i];o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),console.log(o.t0);case 11:case"end":return o.stop()}}),o,null,[[1,8]])})))()},getIcono:function(t){var o="img/monitoreo/online.png#"+t.CodiVehiMoni,n="img/monitoreo/online_lista.png",e="",r="";if(1==t.AlarAnteGPSDescMoni)return{imagen:o="img/monitoreo/alerta.png#"+t.CodiVehiMoni,color:e="#D50303",imagenLista:n="img/monitoreo/alerta_lista.png",detalle:r="ALERTA GPS"};if(t.SINGPSDAY>0)e="#9B9999",o="img/monitoreo/sin_gps_full.png#"+t.CodiVehiMoni,n="img/monitoreo/sin_gps_full_lista.png",r="SIN TRANSMISION GPS";else{if(!(t.MINUTESINGPS>30))return""!=t.LetrRutaMoni&&null!=t.LetrRutaMoni?(e="#157347",{imagen:o=0==t.UltiVeloMoni?"img/monitoreo/stop_online.png#"+t.CodiVehiMoni:"img/monitoreo/online.png#"+t.CodiVehiMoni,color:e,imagenLista:n="img/monitoreo/online_lista.png",detalle:r="EN LINEA CON DESPACHO"}):(e="#060C92",{imagen:o=0==t.UltiVeloMoni?"img/monitoreo/online_sin_ruta_stop.png#"+t.CodiVehiMoni:"img/monitoreo/online_sin_ruta.png#"+t.CodiVehiMoni,color:e,imagenLista:n="img/monitoreo/online_sin_ruta_lista.png",detalle:r="EN LINEA SIN DESPACHO"});e="#565656",o="img/monitoreo/sin_gps_now.png#"+t.CodiVehiMoni,n="img/monitoreo/sin_gps_now_lista.png",r="SIN TRANSMISION GPS"}return{imagen:o,color:e,imagenLista:n,detalle:r}},showControles:function(t){t.target.checked?this.mListControlesMonitoreoAux=this.mListControlesMonitoreo:this.mListControlesMonitoreoAux=[]},getInfoWindowContent:function(t){var o=this;return Object(d.a)(regeneratorRuntime.mark((function n(){var e,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.$axios.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+parseFloat(t.UltiLatiMoni)+","+parseFloat(t.UltiLongMoni)+"&key=AIzaSyCMR83z2AyaiNJTfUHKechVpGh_MjLQvHA");case 2:if(e=n.sent,r=e.data.results,0!=t.SINGPSDAY){n.next=9;break}if(!(t.MINUTESINGPS>30)){n.next=7;break}return n.abrupt("return",'<div style="width:300px;padding:0.50rem">\n              <strong class="strongLetrasInfoWindows">UNIDAD N° : </strong> '.concat(t.CodiVehiMoni,'<br>\n              <strong class="strongLetrasInfoWindows">FECHA MONI : </strong> ').concat(t.UltiFechMoni,'<br>\n              <strong class="strongLetrasInfoWindows">MINUTOS SIN TRANSMISION : </strong> ').concat(t.timeSINGPS,'<br>\n              <strong class="strongLetrasInfoWindows">RUTA : </strong> ').concat(t.LetrRutaMoni=null==t.DescRuta?"SIN RUTA":t.DescRuta,'<br>\n              <strong class="strongLetrasInfoWindows">EVENTO : </strong> ').concat(1==t.AlarAnteGPSDescMoni?"ALERTA GPS":null==t.AlarFuerRutaMoni||1==t.AlarFuerRutaMoni?"FUERA DE RUTA":"EN RUTA",'<br>\n              <strong class="strongLetrasInfoWindows">VELOCIDAD : </strong> ').concat(t.UltiVeloMoni,' <strong>KM/H</strong><br>\n              <strong class="strongLetrasInfoWindows">DIR : </strong> ').concat(r.length>0?r[0].formatted_address:"SIN NOMBRES",'<br><strong class="strongLetrasInfoWindows">SATELITES : </strong> ').concat(t.SateContMoni,"\n            </div>"));case 7:n.next=11;break;case 9:if(!(t.SINGPSDAY>0)){n.next=11;break}return n.abrupt("return",'<div style="width:300px;padding:0.50rem">\n              <strong class="strongLetrasInfoWindows">UNIDAD N° : </strong> '.concat(t.CodiVehiMoni,'<br>\n              <strong class="strongLetrasInfoWindows">FECHA MONI : </strong> ').concat(t.UltiFechMoni,'<br>\n              <strong class="strongLetrasInfoWindows">DIAS SIN TRANSMISION : </strong> ').concat(t.SINGPSDAY,' DIAS<br>\n              <strong class="strongLetrasInfoWindows">RUTA : </strong> ').concat(t.LetrRutaMoni=null==t.DescRuta?"SIN RUTA":t.DescRuta,'<br>\n              <strong class="strongLetrasInfoWindows">EVENTO : </strong> ').concat(1==t.AlarAnteGPSDescMoni?"ALERTA GPS":null==t.AlarFuerRutaMoni||1==t.AlarFuerRutaMoni?"FUERA DE RUTA":"EN RUTA",'<br>\n              <strong class="strongLetrasInfoWindows">VELOCIDAD : </strong> ').concat(t.UltiVeloMoni,' <strong>KM/H</strong><br>\n              <strong class="strongLetrasInfoWindows">DIR : </strong> ').concat(r.length>0?r[0].formatted_address:"SIN NOMBRES",'<br><strong class="strongLetrasInfoWindows">SATELITES : </strong> ').concat(t.SateContMoni,"\n            </div>"));case 11:return n.abrupt("return",'<div style="width:300px;padding:0.50rem">\n              <strong class="strongLetrasInfoWindows">UNIDAD N° : </strong> '.concat(t.CodiVehiMoni,'<br>\n              <strong class="strongLetrasInfoWindows">FECHA MONI : </strong> ').concat(t.UltiFechMoni,'<br>\n              <strong class="strongLetrasInfoWindows">RUTA : </strong> ').concat(t.LetrRutaMoni=null==t.DescRuta?"SIN RUTA":t.DescRuta,'<br>\n              <strong class="strongLetrasInfoWindows">EVENTO : </strong> ').concat(1==t.AlarAnteGPSDescMoni?"ALERTA GPS":null==t.AlarFuerRutaMoni||1==t.AlarFuerRutaMoni?"FUERA DE RUTA":"EN RUTA",'<br>\n              <strong class="strongLetrasInfoWindows">VELOCIDAD : </strong> ').concat(t.UltiVeloMoni,' <strong>KM/H</strong><br>\n              <strong class="strongLetrasInfoWindows">DIR : </strong> ').concat(r.length>0?r[0].formatted_address:"SIN NOMBRES",'<br><strong class="strongLetrasInfoWindows">SATELITES : </strong> ').concat(t.SateContMoni,"\n            </div>"));case 12:case"end":return n.stop()}}),n)})))()},showInfoWindows:function(t,o){var n=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.infoWindowPos={lat:parseFloat(t.UltiLatiMoni),lng:parseFloat(t.UltiLongMoni)},e.next=3,n.getInfoWindowContent(t);case 3:n.infoContent=e.sent,n.currentMidx==o?n.infoWinOpen=!n.infoWinOpen:(n.infoWinOpen=!0,n.currentMidx=o);case 5:case"end":return e.stop()}}),e)})))()},updatemListaUnidades:function(t){if(this.mListUnidades.length>t.length)for(var i=0;i<this.mListUnidades.length;i++)for(var o=0;o<t.length;o++)this.mListUnidades[i].CodiVehiMoni==t[o].CodiVehiMoni&&(this.updateInformationMarker(i,t[o]),t.splice(o,0));else if(this.mListUnidades.length<t.length){for(var n=0;n<t.length;n++)for(var e=0;e<this.mListUnidades.length;e++)t[n].CodiVehiMoni==this.mListUnidades[e].CodiVehiMoni&&(this.updateInformationMarker(e,t[n]),mListUnidades.splice(n,0));for(var r=0;r<mListUnidades.length;r++)this.mListUnidades.push(mListUnidades[r])}else for(var d=0;d<this.mListUnidades.length;d++)for(var l=0;l<t.length;l++)this.mListUnidades[d].CodiVehiMoni==t[l].CodiVehiMoni&&(this.updateInformationMarker(d,t[l]),t.splice(l,0))},initGeociudad:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function o(){var n,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,t.$axios.post("http://localhost:3001/geoCiudad",{token:t.token});case 3:if(200==(n=o.sent).data.status_code)for(i=0;i<n.data.datos.length;i++)t.mListGeociudad.push({lat:parseFloat(n.data.datos[i].latitud),lng:parseFloat(n.data.datos[i].longitud)});o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(o.t0);case 10:case"end":return o.stop()}}),o,null,[[0,7]])})))()},prueba:function(){alert()},updateInformationMarker:function(t,o){this.mListUnidades[t].EstaSaliMoni=o.EstaSaliMoni,this.mListUnidades[t].idSali_mMoni=o.idSali_mMoni,this.mListUnidades[t].UltiVeloMoni=o.UltiVeloMoni,this.mListUnidades[t].UltiFechMoni=o.UltiFechMoni,this.mListUnidades[t].UltiLatiMoni=o.UltiLatiMoni,this.mListUnidades[t].UltiLongMoni=o.UltiLongMoni,this.mListUnidades[t].UltiRumbMoni=o.UltiRumbMoni,this.mListUnidades[t].PlacVehiMoni=o.PlacVehiMoni,this.mListUnidades[t].LetrRutaMoni=o.LetrRutaMoni,this.mListUnidades[t].EvenAnteGPSConeMoni=o.EvenAnteGPSConeMoni,this.mListUnidades[t].AlarAnteGPSDescMoni=o.AlarAnteGPSDescMoni,this.mListUnidades[t].AlarEnceChapMoni=o.AlarEnceChapMoni,this.mListUnidades[t].AlarFuerRutaMoni=o.AlarFuerRutaMoni,this.mListUnidades[t].VersDispMoni=o.VersDispMoni,this.mListUnidades[t].Odometro=o.Odometro,this.mListUnidades[t].DescRuta=o.DescRuta,this.girarMarcadorUnitario(this.mListUnidades[t])},girarMarcador:function(){for(var i=0;i<this.mListUnidades.length;i++){var t=this.mListUnidades[i].UltiRumbMoni+180;$('img[src*="'+this.mListUnidades[i].icono.imagen+'"]').css({transform:"rotate("+t+"deg)"})}},girarMarcadorUnitario:function(t){var o=t.UltiRumbMoni+180*$("img[src='\"".concat(t.icono.imagen,"\"']")).css({"-webkit-transform":"rotate("+o+"deg)","-moz-transform":"rotate("+o+"deg)","-ms-transform":"rotate("+o+"deg)",transform:"rotate("+o+"deg)"});$('img[src*="'+t.icono.imagen+'"]').parent().css("transform","rotate("+o+"deg)")},ubicarUnidad:function(t){this.oCenter={lat:parseFloat(t.UltiLatiMoni),lng:parseFloat(t.UltiLongMoni)},this.oZoom=18},centrarControl:function(t){this.oCenter={lat:parseFloat(t.Lati1Ctrl),lng:parseFloat(t.Long1Ctrl)},this.oZoom=19},centrarUnidadInput:function(){for(var i=0;i<this.mListUnidades.length;i++)if(this.mListUnidades[i].CodiVehiMoni==this.unidadInput)return void this.ubicarUnidad(this.mListUnidades[i])},initFechaActualMonitoreo:function(){var t=new Date,o=t.getMonth()+1,n=t.getDate(),e=t.getHours()<10?"0"+t.getHours():t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),d=t.getFullYear()+"-"+(o<10?"0"+o:o)+"-"+(n<10?"0"+n:n);console.log(d),this.fechaActual=d+" "+e+":"+r+":00"}},mounted:function(){this.initGeociudad(),this.initRutas(),this.initControles(),this.initRastreo(),this.initIntervalMonitoreoGeneral(),this.initFechaActualMonitoreo()},destroyed:function(){clearInterval(this.initIntervalMonitoreoGeneral)}}),I=(n(661),n(3)),component=Object(I.a)(_,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{attrs:{id:"rezizeArea"}},[n("GmapMap",{staticClass:"mapa",attrs:{center:t.oCenter,zoom:t.oZoom,"map-type-id":t.radioMapaMonitoreo,options:{zoomControl:!1,scaleControl:!1,mapTypeControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!0}}},[t._l(t.mListUnidades,(function(o,e){return o.isvisible?n("GmapMarker",{key:o.CodiVehiMoni,attrs:{position:{lat:parseFloat(o.UltiLatiMoni),lng:parseFloat(o.UltiLongMoni)},clickable:!0,draggable:!1,optimized:!0,icon:o.icono.imagen,options:{label:{text:o.CodiVehiMoni,color:o.icono.color,className:"paddingLabel"}}},on:{click:function(n){return t.showInfoWindows(o,e)}}}):t._e()})),t._v(" "),n("GmapInfoWindow",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen},on:{closeclick:function(o){t.infoWinOpen=!1}}},[n("div",{domProps:{innerHTML:t._s(t.infoContent)}})]),t._v(" "),t._l(t.mListControlesMonitoreoAux,(function(t){return n("GmapPolygon",{key:t.CodiCtrl,attrs:{options:{strokeColor:"#172b4d",fillColor:"#172b4d80",strokeOpacity:1,strokeWeight:2},strokeOpacity:.5,strokeWeight:1,paths:t.calculator.coordinates}})})),t._v(" "),t.checkedGeoCercaCiudad?n("GmapPolygon",{attrs:{options:{strokeColor:"#172b4d",fillColor:"#172b4d80",strokeOpacity:1,strokeWeight:2},strokeOpacity:.5,strokeWeight:1,paths:t.mListGeociudad}}):t._e(),t._v(" "),t._l(t.mListControlesMonitoreoAux,(function(t,o){return n("GmapMarker",{key:t.DescCtrl+o,attrs:{position:{lat:parseFloat(t.Lati1Ctrl),lng:parseFloat(t.Long1Ctrl)},optimized:!0,icon:"static/img/control/control.png",options:{label:{text:t.DescCtrl,color:"#172b4d",className:"paddingLabelControl"}}}})})),t._v(" "),n("GmapPolyline",{attrs:{path:t.mListRutaSubida,options:{strokeColor:"#A52714",fillColor:"#A52714",strokeOpacity:.6,strokeWeight:4}}}),t._v(" "),n("GmapPolyline",{attrs:{path:t.mListRutaBajada,options:{strokeColor:"#01579B",fillColor:"#01579B",strokeOpacity:.6,strokeWeight:4}}}),t._v(" "),t.mListRutaBajada.length>0?n("GmapMarker",{attrs:{position:{lat:parseFloat(t.mListRutaBajada[0].lat),lng:parseFloat(t.mListRutaBajada[0].lng)},optimized:!0,icon:"img/monitoreo/start_route.png"}}):t._e(),t._v(" "),t.mListRutaSubida.length>0?n("GmapMarker",{attrs:{position:{lat:parseFloat(t.mListRutaSubida[0].lat),lng:parseFloat(t.mListRutaSubida[0].lng)},optimized:!0,icon:"img/monitoreo/end_route.png"}}):t._e()],2),t._v(" "),n("div",{staticClass:"container_unidades_monitoreo",style:t.anchoPanelMonitoreoClickMinMax,attrs:{id:"element2"}},[n("div",{attrs:{id:"resizerXY"}}),t._v(" "),n("div",{staticClass:"min-max"},[n("i",{staticClass:"bx-min-max bx bx-checkbox-minus",on:{click:function(o){return t.minPanel()}}}),t._v(" "),n("i",{staticClass:"bx-min-max bx bx-windows",on:{click:function(o){return t.maxPanel()}}})]),t._v(" "),n("div",{staticClass:"searchInput"},[n("i",{staticClass:"bx bx-search"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.unidadInput,expression:"unidadInput"}],staticClass:"inputSearchTexto",attrs:{type:"text",name:"",id:"",placeholder:"Unidad"},domProps:{value:t.unidadInput},on:{keydown:function(o){return t.initRastreo()},input:function(o){o.target.composing||(t.unidadInput=o.target.value)}}})]),t._v(" "),n("div",[n("el-select",{staticStyle:{"margin-bottom":"10px",width:"15.5rem"},attrs:{multiple:"","collapse-tags":"",placeholder:"Opciones Monitoreo"},on:{change:function(o){return t.initRastreo()}},model:{value:t.checkedMonitoreoEstado,callback:function(o){t.checkedMonitoreoEstado=o},expression:"checkedMonitoreoEstado"}},t._l(t.opcionesMonitoreo,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),n("div"),t._v(" "),n("div",{staticClass:"ListadoUnidades"},t._l(t.mListUnidades,(function(o){return o.isvisible?n("div",{key:o.CodiVehiMoni,staticClass:"itemMonitoreoUnidad",on:{click:function(n){return t.ubicarUnidad(o)}}},[n("div",{staticClass:"itemContainerMonitoreo"},[n("div",{staticClass:"imagenitem"},[n("img",{attrs:{src:o.icono.imagenLista}})]),t._v(" "),n("div",{staticClass:"detalle"},[n("div",{staticClass:"containerUnidadTitulo"},[n("div",{staticClass:"unidadTitle"},[n("strong",[t._v("Unidad : ")]),t._v(t._s(o.CodiVehiMoni)+" ("+t._s(o.PlacVehiMoni)+")\n              ")]),t._v(" "),n("div",{staticClass:"iconosEventos"},[n("i",{staticClass:"bx bx-broadcast",staticStyle:{color:"green"}}),t._v(" "),n("strong",{staticStyle:{color:"green"}},[t._v(t._s(o.SateContMoni))])])]),t._v(" "),n("strong",[t._v("Ruta : ")]),t._v("\n            "+t._s(null==o.DescRuta||""==o.DescRuta?"SIN RUTA":o.DescRuta.substring(0,23))),n("br"),t._v(" "),n("strong",[t._v("Estado : ")]),t._v(t._s(o.icono.detalle)),n("br"),t._v(" "),n("strong",[t._v("Fecha : ")]),t._v(t._s(o.UltiFechMoni)),n("br"),t._v(" "),n("span",{staticClass:"dispositivo"},[t._v(t._s(o.DescDispTipo)+" "+t._s(o.VersDispMoni))]),n("br")])]),t._v(" "),n("div",{staticClass:"detalleIconos"},[n("div",{staticClass:"iconosEventos"},[n("i",{staticClass:"bx bx-tachometer",staticStyle:{color:"green"}}),t._v(" "),n("strong",{staticStyle:{color:"green"}},[t._v(t._s(o.UltiVeloMoni)+" KM/H")])]),t._v(" "),n("div",{staticClass:"iconosEventos"},[n("i",{staticClass:"bx bx-time",style:o.CtrlCounMoni>=0?"color:midnightblue;":"color:red;"}),t._v(" "),n("strong",{style:o.CtrlCounMoni>=0?"color:midnightblue;":"color:red;"},[t._v(t._s(o.CtrlCounMoni>0?o.CtrlCounMoni:"E.C"))])]),t._v(" "),n("div",{staticClass:"iconosEventos"},[n("i",{staticClass:"bx bx-wifi",style:1==o.AlarAnteGPSDescMoni?"color:red;":"color:green;"}),t._v(" "),n("strong",{staticStyle:{color:"red"}},[t._v(t._s(1==o.AlarAnteGPSDescMoni?"GPS":""))])]),t._v(" "),n("div",{staticClass:"iconosEventos"},[n("i",{staticClass:"bx bxs-car-battery",style:1==o.AlarCortAlimBateExteMoni?"color:red;":"color:darkblue;"}),t._v(" "),n("strong",{staticStyle:{color:"red"}},[t._v(t._s(1==o.AlarCortAlimBateExteMoni?"BAT":""))])]),t._v(" "),n("div",{staticClass:"iconosEventos"},[n("i",{staticClass:"bx bx-key",style:1==o.AlarEnceChapMoni?"color:yellow;":"color:dark;"})])])]):t._e()})),0)]),t._v(" "),n("div",{staticClass:"container_otrosPaneles",attrs:{id:"PanelRutas"}},[t._m(0),t._v(" "),n("div",{staticClass:"itemsRuta"},t._l(t.mListRutas,(function(o){return n("div",{key:o.LetrRuta,staticClass:"cardRuta"},[n("div",{staticClass:"checkboxRuta"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mListRutasMonitoreo,expression:"mListRutasMonitoreo"}],attrs:{type:"checkbox"},domProps:{value:o.LetrRuta,checked:Array.isArray(t.mListRutasMonitoreo)?t._i(t.mListRutasMonitoreo,o.LetrRuta)>-1:t.mListRutasMonitoreo},on:{change:[function(n){var e=t.mListRutasMonitoreo,r=n.target,d=!!r.checked;if(Array.isArray(e)){var l=o.LetrRuta,c=t._i(e,l);r.checked?c<0&&(t.mListRutasMonitoreo=e.concat([l])):c>-1&&(t.mListRutasMonitoreo=e.slice(0,c).concat(e.slice(c+1)))}else t.mListRutasMonitoreo=d},function(o){return t.changeRutaSeleccionada()}]}})]),t._v(" "),n("div",{staticClass:"DetalleRuta"},[n("div",{staticClass:"titleRuta"},[n("span",{staticClass:"spanTitle"},[t._v(t._s(o.DescRuta.substring(0,17)))]),t._v(" "),n("div",{staticClass:"btn-iconos"},[n("i",{staticClass:"bx bx-time",staticStyle:{color:"green"}}),t._v(" "),n("strong",[n("span",{staticStyle:{color:"green","margin-right":"0.5rem","font-size":"0.8rem"}},[t._v(t._s(o.controles))])]),t._v(" "),n("i",{staticClass:"bx bx-git-merge"})])]),t._v(" "),n("div",{staticClass:"footerRuta"},[n("div",[n("strong",{staticClass:"spanHoras"},[t._v("Hora Inicio : ")]),n("span",{staticClass:"spanHoras"},[t._v(t._s(o.HoraInicSaliProgRuta))])]),t._v(" "),n("div",[n("strong",{staticClass:"spanHoras"},[t._v("Hora Final : ")]),n("span",{staticClass:"spanHoras"},[t._v(t._s(o.HoraFinaSaliProgRuta))])])])])])})),0)]),t._v(" "),n("div",{staticClass:"container_otrosPaneles",attrs:{id:"PanelControles"}},[t._m(1),t._v(" "),n("div",[n("input",{staticStyle:{"margin-bottom":"0.7rem"},attrs:{type:"checkbox"},domProps:{checked:!1},on:{change:function(o){return t.showControles(o)}}}),t._v("\n      Visualizar Controles (Mapa)\n    ")]),t._v(" "),n("div",{staticClass:"itemsRuta"},t._l(t.mListControlesMonitoreo,(function(o){return n("div",{key:o.CodiCtrl,staticClass:"cardRuta",on:{click:function(n){return t.centrarControl(o)}}},[n("div",{staticClass:"DetalleRuta"},[n("div",{staticClass:"titleControl"},[n("span",{staticClass:"spanTitle"},[t._v("("+t._s(o.CodiCtrl)+") "+t._s(o.DescCtrl))])])])])})),0)]),t._v(" "),n("div",{staticClass:"container_otrosPaneles",attrs:{id:"PanelConfigMapaMonitoreo"}},[n("div",{staticClass:"RadioTiposMapaMonitoreo"},[n("el-checkbox",{attrs:{border:""},model:{value:t.checkedGeoCercaCiudad,callback:function(o){t.checkedGeoCercaCiudad=o},expression:"checkedGeoCercaCiudad"}},[t._v("Mostrar GeoCerca")]),t._v(" "),n("el-radio",{attrs:{label:"roadmap",border:""},model:{value:t.radioMapaMonitoreo,callback:function(o){t.radioMapaMonitoreo=o},expression:"radioMapaMonitoreo"}},[t._v("Mapa Vial")]),t._v(" "),n("el-radio",{attrs:{label:"satellite",border:""},model:{value:t.radioMapaMonitoreo,callback:function(o){t.radioMapaMonitoreo=o},expression:"radioMapaMonitoreo"}},[t._v("Mapa Satelital")]),t._v(" "),n("el-radio",{attrs:{label:"hybrid",border:""},model:{value:t.radioMapaMonitoreo,callback:function(o){t.radioMapaMonitoreo=o},expression:"radioMapaMonitoreo"}},[t._v("Mapa Hibrido")]),t._v(" "),n("el-radio",{attrs:{label:"terrain",border:""},model:{value:t.radioMapaMonitoreo,callback:function(o){t.radioMapaMonitoreo=o},expression:"radioMapaMonitoreo"}},[t._v("Mapa Terrestre")])],1)]),t._v(" "),t._m(2),t._v(" "),n("script",{attrs:{src:"../js/tabButtonsMonitoreo.js"}})],1)}),[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"searchInput"},[n("i",{staticClass:"bx bx-search"}),t._v(" "),n("input",{staticClass:"inputSearchTexto",attrs:{type:"text",name:"",id:"",placeholder:"Ruta"}})])},function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"searchInput",staticStyle:{"margin-bottom":"0.5rem"}},[n("i",{staticClass:"bx bx-search"}),t._v(" "),n("input",{staticClass:"inputSearchTexto",attrs:{type:"text",name:"",id:"",placeholder:"Control"}})])},function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"tabOptionsMonitoreo",attrs:{id:"tabOptionsMonitoreo"}},[n("div",{staticClass:"itemOptionMonitoreo itemOptionMonitoreoActive",attrs:{id:"itemMonitoreo"}},[n("i",{staticClass:"bx bx-bus"})]),t._v(" "),n("div",{staticClass:"itemOptionMonitoreo",attrs:{id:"itemRutas"}},[n("i",{staticClass:"bx bx-git-repo-forked"})]),t._v(" "),n("div",{staticClass:"itemOptionMonitoreo",attrs:{id:"itemControles"}},[n("i",{staticClass:"bx bx-time-five"})]),t._v(" "),n("div",{staticClass:"itemOptionMonitoreo",attrs:{id:"itemConfig"}},[n("i",{staticClass:"bx bx-cog"})])])}],!1,null,null,null);o.default=component.exports}}]);