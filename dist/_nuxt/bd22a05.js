(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{405:function(t,e,n){"use strict";n(30),n(20),n(15),n(61),n(62),n(98),n(69),n(9),n(16),n(43),n(44),n(45);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,d=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw d}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}e.a={computed:{pagedData:function(){return this.tableData.slice(this.from,this.to)},queriedData:function(){var t=this;if(!this.searchQuery)return this.pagination.total=this.tableData.length,this.pagedData;var e=this.tableData.filter((function(e){var n,o=!1,d=r(t.propsToSearch);try{for(d.s();!(n=d.n()).done;){var l=e[n.value].toString();l.includes&&l.includes(t.searchQuery)&&(o=!0)}}catch(t){d.e(t)}finally{d.f()}return o}));return this.pagination.total=e.length,e.slice(this.from,this.to)},to:function(){var t=this.from+this.pagination.perPage;return this.total<t&&(t=this.total),t},from:function(){return this.pagination.perPage*(this.pagination.currentPage-1)},total:function(){return this.pagination.total=this.tableData.length,this.tableData.length}},data:function(){return{pagination:{perPage:10,currentPage:1,perPageOptions:[5,10,25,50],total:0},propsToSearch:["name","email","age"],searchQuery:"",searchedData:[],fuseSearch:null}}}},643:function(t,e,n){},743:function(t,e,n){"use strict";n(643)},805:function(t,e,n){"use strict";n.r(e);var r,o=n(54),d=n(7),l=n(5),c=(n(421),n(41),n(422)),m=n.n(c),f=(n(423),n(424)),h=n.n(f),v=(n(427),n(428)),C=n.n(v),y=(n(429),n(430)),R=n.n(y),P=(n(42),n(9),n(15),n(61),n(62),n(70)),x=n(129),_=n(405),k=n(431),w=n.n(k),M=n(164),S=n(163),$={mixins:[_.a],layout:"EditRutasDashboardLayout",components:(r={Tabs:M.a,TabPane:S.a,BasePagination:x.b,RouteBreadCrumb:P.a},Object(l.a)(r,R.a.name,R.a),Object(l.a)(r,C.a.name,C.a),Object(l.a)(r,h.a.name,h.a),Object(l.a)(r,m.a.name,m.a),r),data:function(){return{tableColumns:[{prop:"idPRuta",label:"Código",minWidth:130},{prop:"nombrePonderada",label:"Descripción",minWidth:230},{prop:"valorPonderada",label:"Valor ($)",minWidth:130},{prop:"detallePonderada",label:"Anotaciones",minWidth:260},{prop:"fechaRegistro",label:"F. Registro",minWidth:180}],loadingRutaRutasFrecuencias:!1,token:this.$cookies.get("token"),mListRutasSeleccionadas:[],mSelectRutaFrecuencia:"",tableData:[],modalRegistroMediaCentraslRutas:!1,descripcionPonderada:"",anotacionPonderada:"",valorPondera:"",editIndexPonderada:-1,idPRuta:""}},methods:{showRegistroMediaCentrasl:function(){this.limpiarRegisterMediaCentral(),this.modalRegistroMediaCentraslRutas=!0,0==this.modalRegistroMediaCentraslRutas&&this.cancelarRegisterMediaCentral()},readAllMediaCentral:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tableData=[],t.loadingRutaRutasFrecuencias=!0,e.next=4,t.$axios.post("http://localhost:3001/todasMediasCentrales",{token:t.token,tipo:3});case 4:if(200==(n=e.sent).data.status_code){for(i=0;i<n.data.datos.length;i++)n.data.datos[i].statusType=1==n.data.datos[i].estado?"success":"danger",n.data.datos[i].status=1==n.data.datos[i].estado?"Activo":"Inactivo";(r=t.tableData).push.apply(r,Object(o.a)(n.data.datos))}else 400==n.data.status_code?t.$notify({message:n.data.msm,timeout:3e3,type:"danger"}):t.$notify({message:"No existen TENDENCIAS CENTRALES disponibles",timeout:3e3,type:"warning"});t.loadingRutaRutasFrecuencias=!1;case 7:case"end":return e.stop()}}),e)})))()},insertMediaCentral:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={token:t.token,datos:{_nomponde:t.descripcionPonderada,_detaponde:t.anotacionPonderada,_valoponde:t.valorPondera,_usuario:t.$cookies.get("namesUsuario")}},e.next=4,t.$axios.post("http://localhost:3001/register-mediaCentral",n);case 4:200==(r=e.sent).data.status_code?(t.readAllMediaCentral(),t.limpiarRegisterMediaCentral(),t.$notify({message:r.data.msm,timeout:1500,type:"default"})):t.$notify({title:"Error al insertar",timeout:3e3,message:r.data.msm,type:"danger"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$notify({title:"Error TRY Permisos",message:e.t0.toString(),type:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},updateMediaCentral:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={token:t.token,datos:{_nomponde:t.descripcionPonderada,_detaponde:t.anotacionPonderada,_valoponde:t.valorPondera,_idpruta:t.idPRuta}},e.next=4,t.$axios.put("http://localhost:3001/update-mediaCentral",n);case 4:200==(r=e.sent).data.status_code?(t.readAllMediaCentral(),t.limpiarRegisterMediaCentral(),t.$notify({message:r.data.msm,timeout:1500,type:"default"})):t.$notify({title:"Error al actualizar",timeout:3e3,message:r.data.msm,type:"danger"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$notify({title:"Error TRY Permisos",message:e.t0.toString(),type:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},limpiarRegisterMediaCentral:function(){this.descripcionPonderada="",this.anotacionPonderada="",this.valorPondera="",this.editIndexPonderada=-1},cancelarRegisterMediaCentral:function(){this.descripcionPonderada="",this.anotacionPonderada="",this.valorPondera="",this.editIndexPonderada=-1,this.modalRegistroMediaCentraslRutas=!1},editMediaCentral:function(t){this.descripcionPonderada=t.nombrePonderada,this.anotacionPonderada=t.detallePonderada,this.valorPondera=t.valorPonderada,this.idPRuta=t.idPRuta,this.editIndexPonderada=1,this.modalRegistroMediaCentraslRutas=!0},changeEstadoMediaCentral:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=1==t.estado?0:1;try{o={token:e.token,datos:{_estado:r,_idpruta:t.idPRuta,_usuario:e.$cookies.get("namesUsuario")}},w.a.fire({title:1==t.estado?"Desactivar Media Central":"Activar Media Central",text:t.nombrePonderada,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:1==t.estado?"Si, desactivar.":"Si, activar."}).then(function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=5;break}return t.next=3,e.$axios.delete("http://localhost:3001/delete-mediaCentral",{data:o});case 3:200==(n=t.sent).data.status_code?(e.readAllMediaCentral(),e.$notify({message:n.data.msm,timeout:1500,type:"default"})):e.$notify({title:"Error al eliminar",timeout:3e3,message:n.data.msm,type:"danger"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){e.$notify({title:"Error TRY Permisos",message:t.toString(),type:"danger"})}case 2:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.readAllMediaCentral()}},A=$,D=(n(743),n(3)),component=Object(D.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("base-header",[n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col",staticStyle:{"margin-top":"1rem"}},[n("card",{staticClass:"cardMediaCentralControles no-border-card",attrs:{"body-classes":"px-0 pb-1 cardBodyMediaCentral","footer-classes":"pb-2"}},[n("div",{staticClass:"col-12 text-right buttonNuevo"},[n("base-button",{attrs:{type:"primary",icon:"",size:"sm"},on:{click:function(e){return t.showRegistroMediaCentrasl()}}},[n("span",{staticClass:"btn-inner--icon"},[n("i",{staticClass:"ni ni-fat-add"}),t._v("Agregar Media Central")])])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingRutaRutasFrecuencias,expression:"loadingRutaRutasFrecuencias"}],attrs:{"element-loading-text":"Cargando...","element-loading-background":"rgba(0, 0, 0, 0.8)",height:"calc(100vh - 10.25rem)",data:t.tableData,"row-key":"id","header-row-class-name":"thead-dark"}},[t._v("\n            >\n            "),n("div",{attrs:{slot:"empty"},slot:"empty"}),t._v(" "),n("el-table-column",{attrs:{"min-width":"180px",align:"right",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return n("div",{staticClass:"d-flex"},[n("base-button",{staticClass:"edit",attrs:{type:"success",size:"sm",icon:""},on:{click:function(e){return t.editMediaCentral(r)}}},[n("i",{staticClass:"text-white ni ni-ruler-pencil"})]),t._v(" "),n("base-button",{staticClass:"remove btn-link",attrs:{type:1==r.estado?"danger":"primary",size:"sm",icon:""},on:{click:function(e){return t.changeEstadoMediaCentral(r)}}},[n("i",{class:1==r.estado?"text-white ni ni-fat-remove":"text-white ni ni-check-bold"})])],1)}}])}),t._v(" "),t._l(t.tableColumns,(function(e){return n("el-table-column",t._b({key:e.label},"el-table-column",e,!1))})),t._v(" "),n("el-table-column",{attrs:{label:"Estado","min-width":"150px",prop:"ActiRuta",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("badge",{staticClass:"badge-dot mr-4",attrs:{type:""}},[n("i",{class:"bg-"+r.statusType}),t._v(" "),n("span",{staticClass:"status"},[t._v(t._s(r.status))])])]}}])})],2)],1)],1)])]),t._v(" "),n("modal",{attrs:{show:t.modalRegistroMediaCentraslRutas},on:{"update:show":function(e){t.modalRegistroMediaCentraslRutas=e}}},[n("validation-observer",{ref:"formValidator",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.handleSubmit;return[n("form",{staticClass:"needs-validation",on:{submit:function(e){return e.preventDefault(),r(t.firstFormSubmit)}}},[n("div",{staticClass:"form-row"},[n("div",{staticClass:"col-md-6"},[n("base-input",{attrs:{"prepend-icon":"ni ni-badge",name:"Nombre",placeholder:"Nombre Media Central",rules:"required"},model:{value:t.descripcionPonderada,callback:function(e){t.descripcionPonderada=e},expression:"descripcionPonderada"}})],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("base-input",{attrs:{name:"Código",placeholder:"Valor ($)",rules:"required"},model:{value:t.valorPondera,callback:function(e){t.valorPondera=e},expression:"valorPondera"}},[n("small",{staticClass:"font-weight-bold",attrs:{slot:"append"},slot:"append"},[t._v("USD")])])],1)]),t._v(" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col-md-12"},[n("base-input",{attrs:{"prepend-icon":"ni ni-single-copy-04",name:"Descripción Media Central",placeholder:"Descripción Media Central",rules:"required"},model:{value:t.anotacionPonderada,callback:function(e){t.anotacionPonderada=e},expression:"anotacionPonderada"}})],1)]),t._v(" "),n("div",{staticClass:"text-right"},[n("base-button",{attrs:{type:"danger"},on:{click:function(e){return t.cancelarRegisterMediaCentral()}}},[t._v("Cancelar")]),t._v(" "),-1==t.editIndexPonderada?n("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(e){return t.insertMediaCentral()}}},[t._v("Agregar")]):n("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(e){return t.updateMediaCentral()}}},[t._v("Actualizar")])],1)])]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);